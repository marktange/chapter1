<html lang="da" class="dark"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapter 1 - Danmarks nye produktionsselskab med speciale i YouTube content</title>
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
    darkMode: 'class',
    theme: {
        extend: {
            fontFamily: {
                sans: ['"Inter"', 'sans-serif'],
                serif: ['"Playfair Display"', 'serif'],
                mono: ['"Space Mono"', 'monospace'],
            },
            colors: {
                cinema: {
                    950: '#050505',
                    900: '#0a0a0a',
                    800: '#121212',
                },
            },
            backgroundImage: {
                'noise': "url('data:image/svg+xml,%3Csvg viewBox=\"0 0 200 200\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cfilter id=\"noiseFilter\"%3E%3CfeTurbulence type=\"fractalNoise\" baseFrequency=\"0.8\" numOctaves=\"3\" stitchTiles=\"stitch\"/%3E%3C/filter%3E%3Crect width=\"100%25\" height=\"100%25\" filter=\"url(%23noiseFilter)\"/%3E%3C/svg%3E')",
            },
            animation: {
                'blob': 'blob 10s infinite',
                'float': 'float 6s ease-in-out infinite',
                'breathe-status': 'breatheStatus 4s ease-in-out infinite', // Smooth breathing added
            },
            keyframes: {
                blob: {
                    '0%': { transform: 'translate(0px, 0px) scale(1)' },
                    '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                    '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                    '100%': { transform: 'translate(0px, 0px) scale(1)' },
                },
                float: {
                    '0%, 100%': { transform: 'translateY(0)' },
                    '50%': { transform: 'translateY(-10px)' },
                },
                // New smooth status light animation
                breatheStatus: {
                    '0%, 100%': { 
                        backgroundColor: '#22c55e', // Green
                        transform: 'scale(1)',
                        boxShadow: '0 0 0 rgba(34, 197, 94, 0)'
                    },
                    '50%': { 
                        backgroundColor: '#eab308', // Yellow
                        transform: 'scale(1.1)',
                        boxShadow: '0 0 8px rgba(234, 179, 8, 0.3)'
                    }
                }
            }
        }
    }
}
</script>
<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&amp;family=Playfair+Display:ital,wght@0,400;0,600;1,400&amp;family=Space+Mono:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet">
<!-- Icons -->
<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
<style>
/* Global Fixes */
html {
    background-color: #050505;
    color: #e4e4e7;
    -webkit-font-smoothing: antialiased;
}
main {
    position: relative;
    z-index: 50;
    isolation: isolate;
}
canvas, video, svg, iframe, [data-lottie] {
    pointer-events: none !important;
}

/* Custom Cursor Logic */
@media (hover: hover) and (pointer: fine) {
    body, a, button, .nav-link, input, textarea, select {
        cursor: none !important;
    }
    #cursor-glow, #cursor-dot {
        display: block !important;
    }
}

/* Cursor Styles */
#cursor-glow {
    position: fixed;
    width: 300px;
    height: 300px;
    border-radius: 9999px;
    background: radial-gradient(circle, rgba(255,255,255,0.08) 0%, transparent 70%);
    mix-blend-mode: screen;
    pointer-events: none;
    z-index: 9999;
    transform: translate(-50%, -50%);
    transition: width 0.3s ease, height 0.3s ease;
    display: none;
}

#cursor-dot {
    position: fixed;
    width: 6px;
    height: 6px;
    border-radius: 9999px;
    background-color: #ededed;
    box-shadow: 0 0 10px rgba(255,255,255,0.8);
    pointer-events: none;
    z-index: 9999;
    transform: translate(-50%, -50%);
    transition: transform 0.3s ease;
    display: none;
}

/* Cursor Hover States */
.cursor-hover-active #cursor-glow {
    width: 150px;
    height: 150px;
}
.cursor-hover-active #cursor-dot {
    transform: translate(-50%, -50%) scale(1.5);
}

/* Noise Overlay */
.noise-layer {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 40; opacity: 0.04;
    background-image: var(--tw-bg-noise);
    mix-blend-mode: overlay;
}
/* Vivid Background Gradients */
.vivid-glow {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    z-index: 0;
    animation: blob 15s infinite alternate cubic-bezier(0.4, 0, 0.2, 1);
}
/* Reveal Animation */
.reveal-text {
    animation: reveal 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    opacity: 0; transform: translateY(20px);
}
.delay-100 { animation-delay: 0.1s; }
.delay-200 { animation-delay: 0.2s; }
.delay-300 { animation-delay: 0.3s; }
.delay-500 { animation-delay: 0.5s; }
@keyframes reveal {
    to { opacity: 1; transform: translateY(0); }
}
/* Cursor Blink */
.cursor-blink {
    display: inline-block; width: 2px; height: 1.1em; background: #FF0000;
    animation: blink 1s step-end infinite; vertical-align: text-bottom;
    margin-left: 1px; margin-bottom: 2px;
}
@keyframes blink { 50% { opacity: 0; } }
/* Canvas Wrapper */
#canvas-wrapper {
    position: relative; width: 100%; height: 250px;
    display: flex; justify-content: center; align-items: center;
    overflow: visible; z-index: 10; pointer-events: none;
}
/* Progress Line - Modified for slower, calmer animation */
@keyframes scan-shimmer {
    0% { background-position: 100% 0; }
    100% { background-position: -100% 0; }
}
.youtube-line-anim {
    /* Softened the highlight from pure white to a light red tint to reduce intensity */
    background: linear-gradient(90deg, #990000 0%, #cc0000 40%, #ffcccc 50%, #cc0000 60%, #990000 100%);
    background-size: 200% 100%;
    /* Slowed down significantly from 2.5s to 7s */
    animation: scan-shimmer 7s linear infinite;
    box-shadow: 0 -1px 8px rgba(220, 38, 38, 0.2);
}
</style>
<link id="all-fonts-link-font-geist" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-geist">.font-geist { font-family: 'Geist', sans-serif !important; }</style><link id="all-fonts-link-font-roboto" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-roboto">.font-roboto { font-family: 'Roboto', sans-serif !important; }</style><link id="all-fonts-link-font-montserrat" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-montserrat">.font-montserrat { font-family: 'Montserrat', sans-serif !important; }</style><link id="all-fonts-link-font-poppins" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-poppins">.font-poppins { font-family: 'Poppins', sans-serif !important; }</style><link id="all-fonts-link-font-playfair" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;900&amp;display=swap"><style id="all-fonts-style-font-playfair">.font-playfair { font-family: 'Playfair Display', serif !important; }</style><link id="all-fonts-link-font-instrument-serif" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Instrument+Serif:wght@400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-instrument-serif">.font-instrument-serif { font-family: 'Instrument Serif', serif !important; }</style><link id="all-fonts-link-font-merriweather" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&amp;display=swap"><style id="all-fonts-style-font-merriweather">.font-merriweather { font-family: 'Merriweather', serif !important; }</style><link id="all-fonts-link-font-bricolage" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-bricolage">.font-bricolage { font-family: 'Bricolage Grotesque', sans-serif !important; }</style><link id="all-fonts-link-font-jakarta" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-jakarta">.font-jakarta { font-family: 'Plus Jakarta Sans', sans-serif !important; }</style><link id="all-fonts-link-font-manrope" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-manrope">.font-manrope { font-family: 'Manrope', sans-serif !important; }</style><link id="all-fonts-link-font-space-grotesk" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-space-grotesk">.font-space-grotesk { font-family: 'Space Grotesk', sans-serif !important; }</style><link id="all-fonts-link-font-work-sans" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-work-sans">.font-work-sans { font-family: 'Work Sans', sans-serif !important; }</style><link id="all-fonts-link-font-pt-serif" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=PT+Serif:wght@400;700&amp;display=swap"><style id="all-fonts-style-font-pt-serif">.font-pt-serif { font-family: 'PT Serif', serif !important; }</style><link id="all-fonts-link-font-geist-mono" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-geist-mono">.font-geist-mono { font-family: 'Geist Mono', monospace !important; }</style><link id="all-fonts-link-font-space-mono" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&amp;display=swap"><style id="all-fonts-style-font-space-mono">.font-space-mono { font-family: 'Space Mono', monospace !important; }</style><link id="all-fonts-link-font-quicksand" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-quicksand">.font-quicksand { font-family: 'Quicksand', sans-serif !important; }</style><link id="all-fonts-link-font-nunito" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-nunito">.font-nunito { font-family: 'Nunito', sans-serif !important; }</style><link id="all-fonts-link-font-newsreader" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Newsreader:opsz,wght@6..72,400..800&amp;display=swap"><style id="all-fonts-style-font-newsreader">.font-newsreader { font-family: 'Newsreader', serif !important; }</style><link id="all-fonts-link-font-google-sans-flex" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Google+Sans+Flex:wght@400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-google-sans-flex">.font-google-sans-flex { font-family: 'Google Sans Flex', sans-serif !important; }</style><link id="all-fonts-link-font-oswald" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-oswald">.font-oswald { font-family: 'Oswald', sans-serif !important; }</style><link id="all-fonts-link-font-dm-sans" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-dm-sans">.font-dm-sans { font-family: 'DM Sans', sans-serif !important; }</style></head>
<body class="min-h-screen flex flex-col relative overflow-hidden selection:bg-red-600/30 selection:text-white">

<!-- Background (component) added by Aura -->
<div class="aura-background-component fixed top-0 w-full h-screen -z-10" data-alpha-mask="80" style="; mask-image: linear-gradient(to bottom, transparent, black 0%, black 80%, transparent); -webkit-mask-image: linear-gradient(to bottom, transparent, black 0%, black 80%, transparent)"><div class="spline-container absolute top-0 left-0 w-full h-full z-0"><iframe src="https://my.spline.design/glowingplanetparticles-HmCVKutonlFn3Oqqe6DI9nWi/" frameborder="0" width="100%" height="100%"></iframe></div></div>

    <!-- FX: Noise -->
    <div class="noise-layer"></div>
    
    <!-- FX: Background Gradients -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="vivid-glow top-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-red-900/20 mix-blend-screen"></div>
        <div class="vivid-glow bottom-[-10%] right-[-10%] w-[60vw] h-[60vw] bg-rose-900/10 mix-blend-screen animation-delay-2000"></div>
        <div class="vivid-glow top-[40%] left-[30%] w-[30vw] h-[30vw] bg-purple-900/10 mix-blend-screen animation-delay-4000 filter blur-[100px]"></div>
    </div>

    <!-- Background Grid -->
    <div class="fixed inset-0 z-0 flex justify-center items-center pointer-events-none opacity-20">
        <div class="absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"></div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 px-8 py-8 flex justify-between items-start pointer-events-none">
        <div class="reveal-text pointer-events-auto">
            <div class="font-mono text-xs tracking-widest text-zinc-500 uppercase">Est. 2024</div>
        </div>
        
        <div class="reveal-text delay-100 pointer-events-auto">
            <div class="flex items-center gap-3 px-3 py-1.5 rounded-full border border-white/5 bg-white/5 backdrop-blur-md shadow-[0_0_15px_rgba(0,0,0,0.3)]">
                <span class="relative flex h-2 w-2">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-20"></span>
                  <!-- Modified: breathing animation instead of glitch -->
                  <span class="relative inline-flex rounded-full h-2 w-2 animate-breathe-status"></span>
                </span>
                <!-- Modified: Text updated to "Systemet aktiveres" -->
                <span class="font-mono text-[10px] uppercase tracking-widest text-zinc-300">Systemet aktiveres</span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow flex flex-col w-full max-w-[1400px] mr-auto ml-auto pt-10 pr-6 pl-6 relative items-center justify-center">
        
        <div class="text-center w-full max-w-5xl mx-auto space-y-12 relative z-30">
            
            <!-- Particle Logo Canvas -->
            <div class="reveal-text delay-200 w-full flex justify-center items-center py-4 relative">
                <div id="canvas-wrapper">
                    <canvas id="logo-canvas" width="3724" height="600" style="width: 1862px; height: 300px;"></canvas>
                </div>
            </div>

            <!-- Value Prop -->
            <div class="delay-300 min-h-[140px] md:min-h-[120px] animate-float z-30 pointer-events-auto relative !opacity-100 !visible">
                <h1 class="font-sans text-xl md:text-3xl text-zinc-300 font-light leading-relaxed">
                    Danmarks nye produktionsselskab med speciale i
                    <span class="text-white font-light inline-block min-w-[200px] relative mt-2">
                        <span class="absolute -bottom-2 left-0 w-full h-px bg-gradient-to-r from-transparent via-red-600 to-transparent opacity-80"></span>
                        <span id="typewriter" class="font-sans text-xl md:text-3xl text-white drop-shadow-[0_0_15px_rgba(220,38,38,0.5)]">Y</span>
                        <span class="cursor-blink"></span>
                    </span>
                </h1>
            </div>

            <!-- CTA -->
            <div class="reveal-text delay-500 flex flex-col items-center gap-6 mt-8 relative z-30 pointer-events-auto">
                <p class="font-mono text-[10px] text-zinc-500 uppercase tracking-[0.1em] text-center max-w-md leading-relaxed">
                    Vi er allerede i gang, hjemmesiden lanceres snart. Kontakt os i dag.
                </p>
                <a href="mailto:kontakt@chapter1.dk" class="group relative inline-flex items-center gap-3 font-mono text-sm text-zinc-300 transition-all duration-300 hover:text-white">
                    <span class="p-2 rounded-full bg-white/5 group-hover:bg-red-600/10 transition-colors text-red-500 border border-white/5 group-hover:border-red-600/20">
                        <iconify-icon icon="lucide:mail" width="16"></iconify-icon>
                    </span>
                    <span class="tracking-widest relative">
                        kontakt@chapter1.dk
                        <span class="absolute -bottom-1 left-0 w-0 h-px bg-red-600 transition-all duration-300 group-hover:w-full"></span>
                    </span>
                </a>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="fixed bottom-0 w-full z-40 border-t border-white/5 bg-cinema-950/80 backdrop-blur-sm pointer-events-auto">
        <div class="max-w-[1400px] mx-auto px-6 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-6 overflow-hidden w-full md:w-auto">
                <div class="flex gap-2 font-mono text-[10px] text-zinc-600 uppercase tracking-wider whitespace-nowrap" id="system-log">
                    <!-- Updated text to [OPTAGER] and Danish -->
                    <span class="text-red-500">[OPTAGER]</span>
                    <span class="hidden md:inline text-zinc-700">|</span>
                    <span class="hidden md:inline opacity-50">Initialiserer Stream...</span>
                </div>
            </div>
            <div class="flex items-center gap-4 font-mono text-[10px] text-zinc-600 uppercase tracking-widest">
                <span class="hidden md:block">DK — 2024</span>
                <span class="block md:hidden">C1 ©</span>
                <div class="w-12 h-[1px] bg-zinc-800"></div>
                <div class="flex gap-1">
                    <div class="w-1 h-1 bg-red-900/50 rounded-full animate-pulse"></div>
                    <div class="w-1 h-1 bg-red-700/50 rounded-full animate-pulse delay-100"></div>
                    <div class="w-1 h-1 bg-red-600 rounded-full animate-pulse delay-200"></div>
                </div>
            </div>
        </div>
        <div class="absolute top-0 left-0 h-[1px] youtube-line-anim w-full" id="progress-bar"></div>
    </footer>

    <!-- Custom Cursor Elements -->
    <div id="cursor-glow" style="left: 294px; top: 4px;"></div>
    <div id="cursor-dot" style="left: 294px; top: 4px;"></div>

    <!-- Scripts -->
    <script>
        // --- CUSTOM CURSOR LOGIC ---
        (function() {
            const glow = document.getElementById('cursor-glow');
            const dot = document.getElementById('cursor-dot');
            const body = document.body;
            
            // Check for touch device or no hover capability
            const isTouch = window.matchMedia("(pointer: coarse)").matches || window.matchMedia("(hover: none)").matches;
            
            if (!isTouch) {
                // Initial visibility set by CSS media query, but let's ensure logic runs
                
                window.addEventListener('mousemove', (e) => {
                    const x = e.clientX;
                    const y = e.clientY;
                    
                    // Set left and top as requested
                    glow.style.left = x + 'px';
                    glow.style.top = y + 'px';
                    dot.style.left = x + 'px';
                    dot.style.top = y + 'px';
                });

                // Hover Effects
                const interactiveElements = document.querySelectorAll('a, button, .nav-link');
                interactiveElements.forEach(el => {
                    el.addEventListener('mouseenter', () => {
                        body.classList.add('cursor-hover-active');
                    });
                    el.addEventListener('mouseleave', () => {
                        body.classList.remove('cursor-hover-active');
                    });
                });
            }
        })();

        // Typewriter Effect
        const words = ["YouTube Content", "Visuel Storytelling", "Social Media Strategy", "Digital Growth", "Brand Building"];
        let wordIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        const typeSpeed = 60;
        const deleteSpeed = 30;
        const pauseTime = 2000;
        const element = document.getElementById('typewriter');

        function type() {
            if (!element) return;
            const currentWord = words[wordIndex];
            if (isDeleting) {
                element.textContent = currentWord.substring(0, charIndex - 1);
                charIndex--;
            } else {
                element.textContent = currentWord.substring(0, charIndex + 1);
                charIndex++;
            }
            let delay = isDeleting ? deleteSpeed : typeSpeed;
            if (!isDeleting && charIndex === currentWord.length) {
                delay = pauseTime;
                isDeleting = true;
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                wordIndex = (wordIndex + 1) % words.length;
                delay = 500;
            }
            setTimeout(type, delay);
        }
        document.addEventListener('DOMContentLoaded', () => setTimeout(type, 800));

        // Footer Log - Translated to Danish
        const modules = ["Video Codec", "Upload Stream", "Målgruppe Sync", "Algoritme", "Content ID"];
        const logElement = document.getElementById('system-log');
        let moduleIndex = 0;
        setInterval(() => {
            logElement.innerHTML = `<span class="text-red-500">[OPTAGER]</span><span class="hidden md:inline text-zinc-700">|</span><span class="text-zinc-500">Buffer: ${modules[moduleIndex]}...</span>`;
            moduleIndex = (moduleIndex + 1) % modules.length;
        }, 2500);

        // --- PARTICLE LOGO FIX (Cleaned Artifacts + Scaled properly) ---
        (function() {
            const canvas = document.getElementById('logo-canvas');
            const ctx = canvas.getContext('2d', { willReadFrequently: true });
            let particles = [];
            let mouse = { x: null, y: null, radius: 120 };
            
            const text = "CHAPTER 1";
            const isMobile = window.innerWidth < 768;
            const fontSize = isMobile ? '55px' : '130px'; 
            const font = `italic 500 ${fontSize} 'Playfair Display', serif`;
            const particleGap = isMobile ? 2 : 3; 
            const particleSize = isMobile ? 1 : 1.3;
            const mouseForce = 8; 
            const returnSpeed = 0.08; 
            
            function resize() {
                const dpr = window.devicePixelRatio || 1;
                // Reset transform to identity before scaling to prevent cumulative accumulation
                ctx.setTransform(1, 0, 0, 1, 0, 0);
                
                canvas.width = window.innerWidth * dpr;
                canvas.height = 300 * dpr;
                canvas.style.width = window.innerWidth + 'px';
                canvas.style.height = '300px';
                
                // Apply scaling
                ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
                
                initParticles(window.innerWidth, 300);
            }

            class Particle {
                constructor(x, y) {
                    this.x = Math.random() * window.innerWidth; // start random
                    this.y = Math.random() * 300;
                    this.targetX = x;
                    this.targetY = y;
                    this.size = Math.random() * particleSize + 0.5;
                    this.color = 'rgba(255, 255, 255, 0.95)';
                }
                draw() {
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.closePath();
                    ctx.fill();
                }
                update() {
                    let dx = mouse.x - this.x;
                    let dy = mouse.y - this.y;
                    let distance = Math.sqrt(dx * dx + dy * dy);
                    if (distance < mouse.radius && mouse.x !== null) {
                        let force = (mouse.radius - distance) / mouse.radius;
                        this.x -= (dx / distance) * force * mouseForce;
                        this.y -= (dy / distance) * force * mouseForce;
                    } else {
                        if (this.x !== this.targetX) this.x -= (this.x - this.targetX) * returnSpeed;
                        if (this.y !== this.targetY) this.y -= (this.y - this.targetY) * returnSpeed;
                    }
                }
            }

            function initParticles(width, height) {
                particles = [];
                // Off-screen canvas for text data
                const tempCanvas = document.createElement('canvas');
                tempCanvas.width = width;
                tempCanvas.height = height;
                const tCtx = tempCanvas.getContext('2d');

                tCtx.clearRect(0,0, width, height);
                tCtx.font = font;
                tCtx.fillStyle = 'white';
                tCtx.textAlign = 'center';
                tCtx.textBaseline = 'middle';
                tCtx.fillText(text, width / 2, height / 2);

                const imageData = tCtx.getImageData(0, 0, width, height);
                const data = imageData.data;
                const w = imageData.width;
                const h = imageData.height;

                for (let y = 0; y < h; y += particleGap) {
                    for (let x = 0; x < w; x += particleGap) {
                        const index = (y * w + x) * 4;
                        const alpha = data[index + 3];
                        
                        // Neighbor Check for Artifact Removal
                        if (alpha > 200) {
                            let neighbors = 0;
                            // Check Up
                            if (y - particleGap >= 0 && data[((y - particleGap) * w + x) * 4 + 3] > 200) neighbors++;
                            // Check Down
                            if (y + particleGap < h && data[((y + particleGap) * w + x) * 4 + 3] > 200) neighbors++;
                            // Check Left
                            if (x - particleGap >= 0 && data[(y * w + (x - particleGap)) * 4 + 3] > 200) neighbors++;
                            // Check Right
                            if (x + particleGap < w && data[(y * w + (x + particleGap)) * 4 + 3] > 200) neighbors++;

                            // Only spawn if connected to at least 2 other pixels
                            if (neighbors >= 2) {
                                particles.push(new Particle(x, y));
                            }
                        }
                    }
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width / (window.devicePixelRatio||1), canvas.height / (window.devicePixelRatio||1));
                for (let i = 0; i < particles.length; i++) {
                    particles[i].draw();
                    particles[i].update();
                }
                requestAnimationFrame(animate);
            }

            window.addEventListener('mousemove', (e) => {
                const rect = canvas.getBoundingClientRect();
                mouse.x = e.clientX - rect.left;
                mouse.y = e.clientY - rect.top;
            });
            window.addEventListener('mouseleave', () => { mouse.x = null; mouse.y = null; });
            window.addEventListener('resize', resize);
            document.fonts.ready.then(() => { resize(); animate(); });
        })();
    </script>

</body></html>